# 🔍 部署检查清单

## 📋 部署前准备检查

### 必需账号和密钥
- [ ] GitHub 账号已注册并登录
- [ ] OpenAI 账号已注册
- [ ] OpenAI API 密钥已获取（格式：sk-xxxxxxxxxxxxxxxx）
- [ ] 代码已上传到 GitHub 仓库

### 代码文件检查
- [ ] `web_server.py` 文件存在
- [ ] `requirements.txt` 文件存在
- [ ] `railway.toml` 文件存在（Railway 部署）
- [ ] `render.yaml` 文件存在（Render 部署）
- [ ] `.env.example` 文件存在

## 🚂 Railway 部署检查清单

### 第一步：项目创建
- [ ] 已注册 Railway 账号
- [ ] 已连接 GitHub 账号
- [ ] 已选择正确的 GitHub 仓库
- [ ] 项目创建成功

### 第二步：数据库配置
- [ ] 已添加 PostgreSQL 数据库
- [ ] 数据库状态显示为 "Running"
- [ ] 数据库连接信息已生成

### 第三步：环境变量配置
- [ ] `OPENAI_API_KEY` = 你的OpenAI密钥
- [ ] `OPENAI_API_MODEL` = gpt-4o
- [ ] `USE_DATABASE` = true
- [ ] 所有环境变量已保存

### 第四步：部署验证
- [ ] 部署状态显示为 "Success"
- [ ] 生成了访问网址
- [ ] 网址可以正常访问
- [ ] 首页正常显示

## 🎨 Render 部署检查清单

### 第一步：数据库创建
- [ ] 已注册 Render 账号
- [ ] 已创建 PostgreSQL 数据库
- [ ] 数据库状态显示为 "Available"
- [ ] 已复制 External Database URL

### 第二步：Web 服务创建
- [ ] 已连接 GitHub 仓库
- [ ] 服务名称已设置
- [ ] 构建命令正确：`pip install -r requirements.txt`
- [ ] 启动命令正确：`gunicorn --bind 0.0.0.0:$PORT --workers 2 --timeout 300 web_server:app`

### 第三步：环境变量配置
- [ ] `OPENAI_API_KEY` = 你的OpenAI密钥
- [ ] `OPENAI_API_MODEL` = gpt-4o
- [ ] `USE_DATABASE` = true
- [ ] `DATABASE_URL` = 数据库连接URL
- [ ] 所有环境变量已保存

### 第四步：部署验证
- [ ] 部署状态显示为 "Live"
- [ ] 生成了 .onrender.com 网址
- [ ] 网址可以正常访问（可能需要等待30秒）
- [ ] 首页正常显示

## ✅ 功能测试检查清单

### 基础功能测试
- [ ] 首页加载正常，显示财经门户界面
- [ ] 左侧导航菜单可以正常点击
- [ ] 中间新闻区域显示内容
- [ ] 右侧舆情热点显示内容

### 股票分析功能测试
- [ ] 点击"智能仪表盘"进入分析页面
- [ ] 输入股票代码（如：000001）
- [ ] 点击"分析"按钮
- [ ] 等待分析结果显示
- [ ] 结果包含股票基本信息
- [ ] 结果包含技术分析数据
- [ ] 结果包含 AI 分析建议

### API 文档测试
- [ ] 访问 `/api/docs` 页面
- [ ] Swagger 文档正常显示
- [ ] 可以查看 API 接口列表

### 其他功能测试
- [ ] 市场扫描功能可以使用
- [ ] 投资组合功能可以访问
- [ ] 智能问答功能可以使用
- [ ] 移动端访问正常

## 🚨 常见问题自检

### 如果首页无法访问
检查项目：
- [ ] 部署状态是否为成功
- [ ] 网址是否正确
- [ ] 是否等待了足够的启动时间
- [ ] 浏览器是否有缓存问题

### 如果股票分析不工作
检查项目：
- [ ] OpenAI API 密钥是否正确
- [ ] API 密钥是否有余额
- [ ] 环境变量是否正确设置
- [ ] 网络连接是否正常

### 如果显示数据库错误
检查项目：
- [ ] 数据库服务是否正常运行
- [ ] DATABASE_URL 是否正确
- [ ] USE_DATABASE 是否设置为 true
- [ ] 数据库连接权限是否正确

## 📊 性能检查

### 响应时间测试
- [ ] 首页加载时间 < 10秒
- [ ] 股票分析响应时间 < 30秒
- [ ] API 调用响应时间 < 15秒

### 资源使用检查
- [ ] Railway：检查使用量是否在 $5 限额内
- [ ] Render：检查是否在 750 小时限额内
- [ ] 内存使用是否正常

## 🔒 安全检查

### 环境变量安全
- [ ] API 密钥未在代码中硬编码
- [ ] 环境变量设置正确
- [ ] 敏感信息未暴露在日志中

### 访问安全
- [ ] HTTPS 访问正常
- [ ] 无明显安全漏洞
- [ ] 错误信息不暴露敏感数据

## 📝 部署完成记录

### 部署信息记录
```
部署平台：[ ] Railway  [ ] Render
部署时间：____年____月____日
应用网址：________________________________
数据库类型：PostgreSQL
部署状态：[ ] 成功  [ ] 失败
```

### 账号信息记录（请妥善保管）
```
GitHub 仓库：________________________________
OpenAI API Key：sk-________________________
部署平台账号：______________________________
数据库连接信息：____________________________
```

### 问题记录
```
遇到的问题：________________________________
解决方案：__________________________________
参考资料：__________________________________
```

## 🎉 部署成功确认

当你完成以下所有检查项时，恭喜你成功部署了股票分析系统！

- [ ] 所有准备工作已完成
- [ ] 部署过程顺利完成
- [ ] 所有功能测试通过
- [ ] 性能表现良好
- [ ] 安全检查通过
- [ ] 部署信息已记录

## 📞 需要帮助？

如果检查过程中发现问题：

1. **查看详细指南**：参考 `小白部署指南.md`
2. **检查错误日志**：在部署平台查看详细错误信息
3. **重新检查配置**：确认所有环境变量和设置
4. **寻求帮助**：在 GitHub 提交 Issue 或查看文档

记住：部署是一个学习过程，遇到问题很正常，耐心解决就能成功！ 💪
